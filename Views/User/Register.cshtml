@{ 
  Layout = "_LoginLayout"; 
} 

<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/css" src="~/css/sweetalert2.min.css">
    <script src="~/js/sweetalert2.all.min.js"></script>
    <script src="~/js/sweetalert2.min.js"></script>
	<title>ลงทะเบียน</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
	<div class="limiter">
		<div class="container-login100">
			<div class="wrap-Regis100">
				<form class="login100-form validate-form" id="registerForm" >
					<span class="login100-form-title p-b-25">
					<img class="p-t-20"width="100%" height="100%" src="../images/logo.svg" alt="logo" />
					</span>
			
          <div class="wrap-inputRegis validate-input" >
						<input required class="input100" type="text" name="name" autocomplete="off">
						<span class="focus-input100" data-placeholder="ชื่อ"></span>
					</div>

          <div class="wrap-inputRegis validate-input">
						<input required class="input100" type="text" name="surname" autocomplete="off">
						<span class="focus-input100" data-placeholder="นามสกุล"></span>
					</div>

           <div class="wrap-inputRegis validate-input">
						<input class="input100" type="text" name="tel" autocomplete="off">
						<span class="focus-input100" data-placeholder="เบอร์โทรศัพท์"></span>
					</div>


					<div class="wrap-inputRegis validate-input" data-validate = "รูปแบบ: exmaple@abc.com">
						<input id ="email"required class="input100" type="email" name="email" autocomplete="off">
						<span class="focus-input100" data-placeholder="Email"></span>
					</div>

					<div class="wrap-inputRegis validate-input" data-validate="Enter password">
						<span class="btn-show-pass">
							<i class="zmdi zmdi-eye"></i>
						</span>
						<input required class="input100" type="password" name="Password">
						<span class="focus-input100" data-placeholder="รหัสผ่าน"></span>
					</div>
				</form>
					<div class="container-login100-form-btn">
						<div class="wrap-login100-form-btn">
							<div class="login100-form-bgbtn"></div>
							<button onclick="Register()" class="login100-form-btn">ลงทะเบียน</button>
						</div>
					</div>

					<div class="text-center p-t-12">
						<span class="txt1">หากคุณมีบัญชีแล้ว?</span>
						<a class="txt2"  asp-area="" asp-controller="User" asp-action="Login">
							เข้าสู่ระบบ
						</a>
					</div>
				
			</div>
		</div>
	</div>
	
   <div id="dropDownSelect1"></div>
   
    <script>
        function gotologin() {
            setTimeout(function () {
                window.location.href = '@Url.Action("Login", "User")'
            }, 2000);
        }
       var Register = function () {
            var data = $("#registerForm").serialize();
            $.ajax({
                type: "post",
                url: "/User/Register",
                data: data,
                success: function (result) {
                    if (result == "Fail") {
                        $('#email').val("");
                        swal({
                            position: 'center',
                            type: 'error',
                            title: 'Email นี้ถูกใช้งานไปแล้ว',
                            showConfirmButton: false,
                            timer: 3000
                        })
                    } else {
                        swal({
                            position: 'center',
                            type: 'success',
                            title: 'ลงทะเบียนสำเร็จ',
                            showConfirmButton: false,
                            timer: 2000
                        })
                        gotologin();
                    }
                }
            })
        }
    </script>
</body>
</html>